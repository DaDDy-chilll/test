import{j as e,r}from"./react-Be8E2Nbg.js";import{s as S,j as J,c as D,L,D as C,d as T,e as B,g as M,B as E}from"./index-D98AaFt-.js";import{h as I}from"./moment-G82_0lEo.js";import{a as A,u as F}from"./react-redux-DLtmqhOk.js";import{J as H}from"./JobDetails-BjdZ1KgZ.js";import{J as R}from"./JobForm-nTDxQShP.js";import{u as V}from"./useFetch-5nD7gdrC.js";import{Q as z}from"./queryKey-UAMLCRrd.js";import{m as j}from"./framer-motion-PqHtkdcW.js";import"./eventemitter3-D17v-3a_.js";import"./react-dom-acXnBvZH.js";import"./scheduler-CzFDRTuY.js";import"./@tanstack-DpxyOrws.js";import"./react-router-dom-CFB4Lnko.js";import"./react-router-BCovdx_C.js";import"./@remix-run-CtKGuY17.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DcfIKM1A.js";import"./@radix-ui-BvMokElm.js";import"./@floating-ui-Bz0Llzwk.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-CmYz6bu1.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DARcxseC.js";import"./react-style-singleton-DGHx6cxv.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-Nu0ECe3E.js";import"./use-callback-ref-Dbm6QB5w.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-BkWO730n.js";import"./lucide-react-Ci28YqEe.js";import"./@reduxjs-BBrxH1_5.js";import"./immer-BNrqi0cU.js";import"./redux-BiaCB-69.js";import"./@babel-t4rwdtCy.js";import"./axios-B7bUl2-b.js";import"./react-spinners-YQqZBWX8.js";import"./class-variance-authority-Bb4qSo10.js";import"./react-quill-DOmGiObD.js";import"./lodash-_8cNgdMq.js";import"./quill-CcmG3z8m.js";import"./react-toastify-Sh6wcm4U.js";import"./@firebase-BRxn6V22.js";import"./idb-BXWtuYvb.js";import"./firebase-Dh9qoGaN.js";import"./redux-persist-DxoIlY8k.js";import"./use-sync-external-store-DIPgDpvX.js";import"./default-D2m8IVtt.js";import"./Select-CRiVO2Nc.js";const O=({item:s,setShowDetails:i})=>{const o=A(),a=I(s.date).fromNow(),n=()=>{i(!0),o(S(J.jobDetails))};return e.jsxs("div",{className:"flex justify-start items-center gap-4 w-full cursor-pointer",onClick:n,children:[e.jsx("div",{className:"w-20 h-2w-20 rounded-md",children:e.jsx("img",{src:s.img,alt:s.position,className:"w-full h-full object-cover rounded-md"})}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-md font-semibold",children:s.position}),e.jsx("p",{className:"text-xs text-gray-500",children:s.location}),e.jsxs("p",{className:"text-sm text-gray-700",children:[s.applied," persons applied"]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-6 ",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:s.salary}),e.jsx("p",{className:"text-xs font-light text-gray-500",children:a})]})]})]})},Pe=()=>{const{token:s}=F(t=>t.auth),[i,o]=r.useState(""),[a,n]=r.useState("Job Type"),[c,m]=r.useState(!1),[l,p]=r.useState(!1),[d,x]=r.useState(!1),{data:f,isLoading:u,isError:W,isSuccess:K,error:Z}=V({endpoint:D.JOBS,token:s,key:z.JOBS}),w=[{id:0,name:"All"},{id:1,name:"Full Time"},{id:2,name:"Part Time"},{id:3,name:"Remote"},{id:4,name:"Internship"}],h=f||[],y=r.useMemo(()=>h.filter(t=>t.position.toLowerCase().includes(i.toLowerCase())||t.location.toLowerCase().includes(i.toLowerCase())||Number(t.applied)===Number(i)),[h,i]),g=t=>o(t.target.value),N=t=>n(t.target.innerText),v=()=>p(!0),b=()=>x(!0),k=()=>{x(!1),p(!1)};return e.jsxs(e.Fragment,{children:[u&&e.jsx(L,{isLoading:u,className:"h-[calc(100vh-68px)]"}),!c&&!d&&!l&&e.jsxs(j.div,{variants:P,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},className:"w-full pt-3 px-10",children:[e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsxs("div",{className:"relative w-2/4",children:[e.jsx("span",{className:"absolute top-2  right-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),e.jsx("input",{type:"search",name:"search",id:"search",placeholder:"Search",className:"w-full rounded-lg px-4 py-2 outline-none bg-gray-200",value:i,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg mr-3",children:"Sort by"}),e.jsxs(C,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between w-40 gap-2 bg-gray-900 text-white px-3 py-1.5 rounded-lg",children:[e.jsx("p",{className:"text-sm mr-3",children:a}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})}),e.jsx(B,{children:w.map(t=>e.jsx(M,{onClick:N,children:e.jsx("p",{children:t.name})},t.id))})]})]})]}),e.jsx("div",{className:"py-4 space-y-4 h-[72vh] px-10 overflow-y-scroll",children:y.map(t=>e.jsx(O,{item:t,setShowDetails:m},t.id))}),e.jsx("div",{className:"flex justify-end items-center mt-4 ",children:e.jsx(E,{variant:"destructive",className:"px-10",onClick:b,children:"Make New Job Post"})})]},"job-list"),c&&!l&&e.jsx(j.div,{className:"w-full h-full flex justify-center items-center px-10",children:e.jsx(H,{backHandler:m,isDetails:!0,editHandler:v})},"job-details"),(d||l)&&e.jsx("div",{className:"w-full h-full flex justify-center items-center px-10",children:e.jsx(R,{onBack:k,formVariant:Q})})]})},P={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}},Q={hidden:{opacity:0,y:100},visible:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:100,transition:{duration:.2}}};export{Pe as default};

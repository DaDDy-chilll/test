import{r as s}from"./react-Be8E2Nbg.js";import{c as l,q as p,o as g,w as E,d as y}from"./@firebase-BRxn6V22.js";import{g as S}from"./index-Dk8u_Rj4.js";const _=({id:e})=>{const[o,c]=s.useState([]),[n,h]=s.useState(!0),[i,u]=s.useState(null);return s.useEffect(()=>{const f=l(S,"chats"),d=p(f,E("company_id","==",e),g("last_message_timestamp","desc")),m=y(d,t=>{const a=[];t.forEach(r=>{a.push({id:r.id,...r.data()})}),c(a),h(!1)},t=>{console.error("Error fetching chats:",t),u("Failed to fetch chats. Please try again.")});return()=>m()},[e]),{chats:o,isLoading:n,error:i}};export{_ as u};

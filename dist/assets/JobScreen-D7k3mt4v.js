import{ab as S,J,E as e,ac as L,I as C,G as D,r as i,K as T,L as E,H as j,W as I,X as M,Y as B,Z as H,T as A}from"./index-DmKZLtA3.js";import{J as F}from"./JobDetails-C8tkJ0w2.js";import{J as R}from"./JobForm-BGF7IIN0.js";import{u as V}from"./useFetch-BVvl8Db8.js";import"./Select-CA8ugvM0.js";import"./default-DjGuT5bd.js";const W=({item:t,setShowDetails:a})=>{const n=S(),o=J(t.date).fromNow(),r=()=>{a(!0),n(L(C.jobDetails))};return e.jsxs("div",{className:"flex justify-start items-center gap-4 w-full cursor-pointer",onClick:r,children:[e.jsx("div",{className:"w-20 h-2w-20 rounded-md",children:e.jsx("img",{src:t.img,alt:t.position,className:"w-full h-full object-cover rounded-md"})}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-md font-semibold",children:t.position}),e.jsx("p",{className:"text-xs text-gray-500",children:t.location}),e.jsxs("p",{className:"text-sm text-gray-700",children:[t.applied," persons applied"]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-6 ",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:t.salary}),e.jsx("p",{className:"text-xs font-light text-gray-500",children:o})]})]})]})},_=()=>{const{token:t}=D(s=>s.auth),[a,n]=i.useState(""),[o,r]=i.useState("Job Type"),[c,d]=i.useState(!1),[l,x]=i.useState(!1),[m,p]=i.useState(!1),{data:f,isLoading:u,isError:Z,isSuccess:G,error:K}=V({endpoint:T.JOBS,token:t,key:"jobs"}),w=[{id:0,name:"All"},{id:1,name:"Full Time"},{id:2,name:"Part Time"},{id:3,name:"Remote"},{id:4,name:"Internship"}],h=f||[],y=s=>{n(s.target.value)},g=i.useMemo(()=>h.filter(s=>s.position.toLowerCase().includes(a.toLowerCase())||s.location.toLowerCase().includes(a.toLowerCase())||Number(s.applied)===Number(a)),[h,a]),N=s=>{r(s.target.innerText)},b=()=>{x(!0)},v=()=>{p(!0)},k=()=>{p(!1),x(!1)};return e.jsxs(e.Fragment,{children:[u&&e.jsx(E,{isLoading:u,className:"h-[calc(100vh-68px)]"}),!c&&!m&&!l&&e.jsxs(j.div,{variants:z,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},className:"w-full pt-3 px-10",children:[e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsxs("div",{className:"relative w-2/4",children:[e.jsx("span",{className:"absolute top-2  right-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),e.jsx("input",{type:"search",name:"search",id:"search",placeholder:"Search",className:"w-full rounded-lg px-4 py-2 outline-none bg-gray-200",value:a,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg mr-3",children:"Sort by"}),e.jsxs(I,{children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between w-40 gap-2 bg-gray-900 text-white px-3 py-1.5 rounded-lg",children:[e.jsx("p",{className:"text-sm mr-3",children:o}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})}),e.jsx(B,{children:w.map(s=>e.jsx(H,{onClick:N,children:e.jsx("p",{children:s.name})},s.id))})]})]})]}),e.jsx("div",{className:"py-4 space-y-4 h-[72vh] px-10 overflow-y-scroll",children:g.map(s=>e.jsx(W,{item:s,setShowDetails:d},s.id))}),e.jsx("div",{className:"flex justify-end items-center mt-4 ",children:e.jsx(A,{variant:"destructive",className:"px-10",onClick:v,children:"Make New Job Post"})})]},"job-list"),c&&!l&&e.jsx(j.div,{className:"w-full h-full flex justify-center items-center px-10",children:e.jsx(F,{backHandler:d,isDetails:!0,editHandler:b})},"job-details"),(m||l)&&e.jsx("div",{className:"w-full h-full flex justify-center items-center px-10",children:e.jsx(R,{onBack:k,formVariant:P})})]})},z={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}},P={hidden:{opacity:0,y:100},visible:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:100,transition:{duration:.2}}};export{_ as default};

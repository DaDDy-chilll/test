import{ab as S,J,E as e,ac as C,I as D,G as L,r as i,U as T,T as B,H as j,W as E,X as I,Y as M,Z as H,Q as A}from"./index-D5c5oP_Y.js";import{J as F}from"./JobDetails-DH3YQFGf.js";import{J as Q}from"./JobForm-IZAzW0nO.js";import{u as R}from"./useFetch-GC-4G8U4.js";import{Q as V}from"./queryKey-UAMLCRrd.js";import"./default-D2m8IVtt.js";import"./Select-CdAIF3pG.js";const W=({item:t,setShowDetails:a})=>{const n=S(),r=J(t.date).fromNow(),o=()=>{a(!0),n(C(D.jobDetails))};return e.jsxs("div",{className:"flex justify-start items-center gap-4 w-full cursor-pointer",onClick:o,children:[e.jsx("div",{className:"w-20 h-2w-20 rounded-md",children:e.jsx("img",{src:t.img,alt:t.position,className:"w-full h-full object-cover rounded-md"})}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-md font-semibold",children:t.position}),e.jsx("p",{className:"text-xs text-gray-500",children:t.location}),e.jsxs("p",{className:"text-sm text-gray-700",children:[t.applied," persons applied"]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-6 ",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:t.salary}),e.jsx("p",{className:"text-xs font-light text-gray-500",children:r})]})]})]})},ee=()=>{const{token:t}=L(s=>s.auth),[a,n]=i.useState(""),[r,o]=i.useState("Job Type"),[c,d]=i.useState(!1),[l,x]=i.useState(!1),[m,p]=i.useState(!1),{data:f,isLoading:u,isError:P,isSuccess:Z,error:G}=R({endpoint:T.JOBS,token:t,key:V.JOBS}),w=[{id:0,name:"All"},{id:1,name:"Full Time"},{id:2,name:"Part Time"},{id:3,name:"Remote"},{id:4,name:"Internship"}],h=f||[],y=i.useMemo(()=>h.filter(s=>s.position.toLowerCase().includes(a.toLowerCase())||s.location.toLowerCase().includes(a.toLowerCase())||Number(s.applied)===Number(a)),[h,a]),g=s=>n(s.target.value),N=s=>o(s.target.innerText),v=()=>x(!0),b=()=>p(!0),k=()=>{p(!1),x(!1)};return e.jsxs(e.Fragment,{children:[u&&e.jsx(B,{isLoading:u,className:"h-[calc(100vh-68px)]"}),!c&&!m&&!l&&e.jsxs(j.div,{variants:z,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},className:"w-full pt-3 px-10",children:[e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsxs("div",{className:"relative w-2/4",children:[e.jsx("span",{className:"absolute top-2  right-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),e.jsx("input",{type:"search",name:"search",id:"search",placeholder:"Search",className:"w-full rounded-lg px-4 py-2 outline-none bg-gray-200",value:a,onChange:g})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg mr-3",children:"Sort by"}),e.jsxs(E,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between w-40 gap-2 bg-gray-900 text-white px-3 py-1.5 rounded-lg",children:[e.jsx("p",{className:"text-sm mr-3",children:r}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})}),e.jsx(M,{children:w.map(s=>e.jsx(H,{onClick:N,children:e.jsx("p",{children:s.name})},s.id))})]})]})]}),e.jsx("div",{className:"py-4 space-y-4 h-[72vh] px-10 overflow-y-scroll",children:y.map(s=>e.jsx(W,{item:s,setShowDetails:d},s.id))}),e.jsx("div",{className:"flex justify-end items-center mt-4 ",children:e.jsx(A,{variant:"destructive",className:"px-10",onClick:b,children:"Make New Job Post"})})]},"job-list"),c&&!l&&e.jsx(j.div,{className:"w-full h-full flex justify-center items-center px-10",children:e.jsx(F,{backHandler:d,isDetails:!0,editHandler:v})},"job-details"),(m||l)&&e.jsx("div",{className:"w-full h-full flex justify-center items-center px-10",children:e.jsx(Q,{onBack:k,formVariant:O})})]})},z={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}},O={hidden:{opacity:0,y:100},visible:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:100,transition:{duration:.2}}};export{ee as default};

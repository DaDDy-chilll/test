import{j as e,r as p}from"./react-Be8E2Nbg.js";import{u as v}from"./useFetch-5nD7gdrC.js";import{L as w,c as j,f as k}from"./index-D98AaFt-.js";import{M as b}from"./MatchedApplicants-Ck4s9jKO.js";import{b as L}from"./@tanstack-DpxyOrws.js";import{u as M}from"./react-redux-DLtmqhOk.js";import{m as I}from"./framer-motion-PqHtkdcW.js";import"./eventemitter3-D17v-3a_.js";import"./react-dom-acXnBvZH.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-CFB4Lnko.js";import"./react-router-BCovdx_C.js";import"./@remix-run-CtKGuY17.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DcfIKM1A.js";import"./@radix-ui-BvMokElm.js";import"./@floating-ui-Bz0Llzwk.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-CmYz6bu1.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DARcxseC.js";import"./react-style-singleton-DGHx6cxv.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-Nu0ECe3E.js";import"./use-callback-ref-Dbm6QB5w.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-BkWO730n.js";import"./lucide-react-Ci28YqEe.js";import"./@reduxjs-BBrxH1_5.js";import"./immer-BNrqi0cU.js";import"./redux-BiaCB-69.js";import"./@babel-t4rwdtCy.js";import"./axios-B7bUl2-b.js";import"./react-spinners-YQqZBWX8.js";import"./class-variance-authority-Bb4qSo10.js";import"./moment-G82_0lEo.js";import"./react-quill-DOmGiObD.js";import"./lodash-_8cNgdMq.js";import"./quill-CcmG3z8m.js";import"./react-toastify-Sh6wcm4U.js";import"./@firebase-BRxn6V22.js";import"./idb-BXWtuYvb.js";import"./firebase-Dh9qoGaN.js";import"./redux-persist-DxoIlY8k.js";import"./use-sync-external-store-DIPgDpvX.js";import"./default-D2m8IVtt.js";const J=({className:n,filter:s,setFilter:t})=>e.jsxs("div",{className:`bg-white text-secondaryColor p-4 flex flex-col sm:flex-row sm:items-center gap-4 ${n}`,children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"checkbox",id:"livesInJapan",className:"accent-primaryColor",onChange:()=>{t({...s,livesInJapan:!s.livesInJapan})}}),e.jsx("label",{htmlFor:"livesInJapan",className:"text-sm",children:"Lives in Japan"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"checkbox",id:"livesInMyanmar",className:"accent-primaryColor",onChange:()=>{t({...s,livesInMyanmar:!s.livesInMyanmar})}}),e.jsx("label",{htmlFor:"livesInMyanmar",className:"text-sm",children:"Lives in Myanmar"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"radio",name:"gender",id:"male",className:"accent-primaryColor",onChange:()=>{t({...s,gender:"male"})}}),e.jsx("label",{htmlFor:"male",children:"Male"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"radio",name:"gender",id:"female",className:"accent-primaryColor",onChange:()=>{t({...s,gender:"female"})}}),e.jsx("label",{htmlFor:"female",children:"Female"})]}),e.jsxs("select",{className:"bg-secondaryColor text-white p-2 rounded-md text-sm",onChange:a=>{t({...s,language:a.target.value})},children:[e.jsx("option",{value:"Japanese",defaultValue:"Japanese",children:"Japanese"}),e.jsx("option",{value:"N5",children:"N5"}),e.jsx("option",{value:"N4",children:"N4"}),e.jsx("option",{value:"N3",children:"N3"}),e.jsx("option",{value:"N2",children:"N2"}),e.jsx("option",{value:"N1",children:"N1"})]}),e.jsxs("select",{className:"bg-secondaryColor text-white p-2 rounded-md text-sm",onChange:a=>{t({...s,education:a.target.value})},children:[e.jsx("option",{value:"",defaultValue:"",children:"Education"}),e.jsx("option",{value:"Bachelor",children:"Bachelor"}),e.jsx("option",{value:"Master",children:"Master"}),e.jsx("option",{value:"Diploma",children:"Diploma"})]}),e.jsxs("select",{className:"bg-secondaryColor text-white p-2 rounded-md text-sm w-[36%]",onChange:a=>{t({...s,jobType:a.target.value})},children:[e.jsx("option",{defaultValue:"Job Type",children:"Job Type"}),e.jsx("option",{value:"IT",children:"IT"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Marketing",children:"Marketing"})]})]}),S=({applicants:n,handleDetail:s})=>e.jsx("div",{className:"relative overflow-y-auto h-[calc(100vh-225px)] ",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-900 uppercase dark:text-gray-400 sticky top-0 bg-white",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"#"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Prefer Job"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Address"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Education"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Japanese"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Gender"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center"})]})}),e.jsx("tbody",{className:"overflow-y-auto ",children:n.length>0?n.map((t,a)=>e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("td",{className:" py-2 text-center",children:t.id}),e.jsxs("th",{scope:"row",className:" py-2 text-center font-medium text-gray-900 whitespace-nowrap dark:text-white",children:[e.jsx("p",{children:t.name}),e.jsx("p",{className:"text-xs font-normal text-gray-500",children:t.userId})]}),e.jsx("td",{className:" py-2 flex flex-col items-center justify-center gap-1",children:t.preferJob.map((l,i)=>e.jsx("p",{className:"text-xs text-white font-normal bg-primaryColor rounded-full px-2 py-1",children:l},i))}),e.jsx("td",{className:"py-2 text-center text-secondaryColor",children:t.address}),e.jsx("td",{className:" py-2 text-center text-secondaryColor",children:t.education}),e.jsx("td",{className:" py-2 text-center text-secondaryColor",children:t.japaneseLevel}),e.jsx("td",{className:" py-2 text-center text-secondaryColor",children:t.gender}),e.jsx("td",{className:" py-2 text-center text-secondaryColor",children:e.jsx("button",{onClick:()=>s(t.id),className:"text-xs text-white bg-primaryColor rounded-full px-2 py-1 hover:bg-secondaryColor",children:"Detail"})})]},a)):e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"text-center text-gray-500 pt-20",children:[e.jsx("div",{className:"flex flex-col items-center justify-center gap-2",children:e.jsxs("svg",{width:"152px",height:"152px",viewBox:"0 0 24.00 24.00",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",e.jsx("path",{opacity:"0.4",d:"M17.9981 7.16C17.9381 7.15 17.8681 7.15 17.8081 7.16C16.4281 7.11 15.3281 5.98 15.3281 4.58C15.3281 3.15 16.4781 2 17.9081 2C19.3381 2 20.4881 3.16 20.4881 4.58C20.4781 5.98 19.3781 7.11 17.9981 7.16Z",stroke:"#292D32",strokeWidth:"0.672",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{opacity:"0.4",d:"M16.9675 14.4402C18.3375 14.6702 19.8475 14.4302 20.9075 13.7202C22.3175 12.7802 22.3175 11.2402 20.9075 10.3002C19.8375 9.59016 18.3075 9.35016 16.9375 9.59016",stroke:"#292D32",strokeWidth:"0.672",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{opacity:"0.4",d:"M5.96656 7.16C6.02656 7.15 6.09656 7.15 6.15656 7.16C7.53656 7.11 8.63656 5.98 8.63656 4.58C8.63656 3.15 7.48656 2 6.05656 2C4.62656 2 3.47656 3.16 3.47656 4.58C3.48656 5.98 4.58656 7.11 5.96656 7.16Z",stroke:"#292D32",strokeWidth:"0.672",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{opacity:"0.4",d:"M6.9975 14.4402C5.6275 14.6702 4.1175 14.4302 3.0575 13.7202C1.6475 12.7802 1.6475 11.2402 3.0575 10.3002C4.1275 9.59016 5.6575 9.35016 7.0275 9.59016",stroke:"#292D32",strokeWidth:"0.672",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{d:"M12.0001 14.6302C11.9401 14.6202 11.8701 14.6202 11.8101 14.6302C10.4301 14.5802 9.33008 13.4502 9.33008 12.0502C9.33008 10.6202 10.4801 9.47021 11.9101 9.47021C13.3401 9.47021 14.4901 10.6302 14.4901 12.0502C14.4801 13.4502 13.3801 14.5902 12.0001 14.6302Z",stroke:"#292D32",strokeWidth:"0.672",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{d:"M9.0907 17.7804C7.6807 18.7204 7.6807 20.2603 9.0907 21.2003C10.6907 22.2703 13.3107 22.2703 14.9107 21.2003C16.3207 20.2603 16.3207 18.7204 14.9107 17.7804C13.3207 16.7204 10.6907 16.7204 9.0907 17.7804Z",stroke:"#292D32",strokeWidth:"0.672",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No Applicants"})]})})})]})}),D=({data:n,itemsPerPage:s,currentPage:t,setCurrentPage:a})=>{const l=Math.ceil(n.length/s),i=c=>{c>=1&&c<=l&&a(c)};return e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[e.jsx("button",{onClick:()=>i(t-1),disabled:t===1,className:"bg-secondaryColor rounded-md w-10 h-10 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})}),[...Array(l)].map((c,r)=>e.jsx("button",{onClick:()=>i(r+1),className:t===r+1?"active bg-secondaryColor rounded-md w-10 h-10 flex items-center justify-center text-white":"bg-secondaryColor rounded-md w-10 h-10 flex items-center justify-center text-white",children:r+1},r)),e.jsx("button",{onClick:()=>i(t+1),disabled:t===l,className:"bg-secondaryColor rounded-md w-10 h-10 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})]})},T={livesInJapan:!1,livesInMyanmar:!1,gender:"",language:"",education:"",jobType:""},x=5,Se=()=>{const{token:n}=M(o=>o.auth),[s,t]=p.useState(1),[a,l]=p.useState(!1),[i,c]=p.useState(null),[r,y]=p.useState(T),{data:g,isLoading:m,isError:W,isSuccess:P,error:B}=v({endpoint:j.APPLICANTS,key:"applicants",token:n}),{data:h,isLoading:u}=L({queryKey:["applicantDetail",i],queryFn:()=>k({endpoint:`${j.APPLICANTS}/${i}`,method:"GET",token:n}),enabled:!!i&&a}),d=(g||[]).filter(o=>(!r.livesInJapan||o.address==="Japan")&&(!r.livesInMyanmar||o.address==="Myanmar")&&(r.gender===""||o.gender.toLowerCase()===r.gender.toLowerCase())&&(r.language===""||r.language==="Japanese"||o.japaneseLevel.match(r.language)!==null)&&(r.education===""||o.education.toLowerCase().includes(r.education.toLowerCase()))&&(r.jobType==="Job Type"||o.preferJob.some(f=>f.toLowerCase().includes(r.jobType.toLowerCase())))),C=d.slice((s-1)*x,s*x),N=o=>{c(o),l(!0)};return e.jsxs(e.Fragment,{children:[(m||u)&&e.jsx(w,{isLoading:m||u,className:"h-[calc(100vh-68px)]"}),e.jsxs(I.div,{variants:A,initial:"initial",animate:"animate",exit:"exit",className:"w-full overflow-hidden relative",children:[e.jsx(J,{filter:r,setFilter:y}),e.jsx("div",{className:"flex justify-start items-center px-4 py-2",children:e.jsxs("p",{className:"text-gray-500 text-sm",children:["Search Result"," ",e.jsxs("span",{className:"text-secondaryColor",children:["(",d.length,")"]})]})}),e.jsx(S,{applicants:C,handleDetail:N}),d.length>5&&e.jsx(D,{data:d,itemsPerPage:x,currentPage:s,setCurrentPage:t}),a&&h&&e.jsxs("div",{className:"absolute top-0 left-0 bg-secondaryColor/50 w-full h-full p-2 flex justify-center items-center",children:[e.jsx(b,{applicant:h}),e.jsx("button",{onClick:()=>l(!1),className:"absolute top-3 right-3  bg-white w-10 h-10 rounded-full flex justify-center items-center text-secondaryColor",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]})]})]})},A={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}};export{Se as default};

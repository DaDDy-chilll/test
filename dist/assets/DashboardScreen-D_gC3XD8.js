import{j as e,r as u}from"./react-Be8E2Nbg.js";import{R as L,L as M,C as D,X as A,Y as F,T as g,a as P,P as k,b as S,c as T}from"./recharts-BJLTIuo0.js";import{L as B,j as h,a as J}from"./index-BnyY0suS.js";import{E as R}from"./EventListItem-DMOf6zht.js";import{u as K}from"./react-redux-DLtmqhOk.js";import{u as _}from"./useChat-C5hZM7oO.js";import{h as I}from"./moment-G82_0lEo.js";import{u as z}from"./useFetch-CuVI8TKe.js";import{a as V}from"./react-router-BCovdx_C.js";import{m as X}from"./framer-motion-PqHtkdcW.js";import{f as v}from"./date-fns-worQpCLY.js";import"./eventemitter3-D17v-3a_.js";import"./clsx-B-dksMZM.js";import"./lodash-_8cNgdMq.js";import"./react-is-DcfIKM1A.js";import"./react-smooth-BlDypakh.js";import"./prop-types-IanXDkFW.js";import"./fast-equals-C7I1S-bJ.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-DjFPhhqo.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-6_AdwBXU.js";import"./d3-scale-BYIooUZQ.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-BKO53YJi.js";import"./d3-time-QpEiTrED.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-DiOBu8nk.js";import"./decimal.js-light-B5-9uEc-.js";import"./react-dom-acXnBvZH.js";import"./scheduler-CzFDRTuY.js";import"./@tanstack-DpxyOrws.js";import"./react-router-dom-CFB4Lnko.js";import"./@remix-run-CtKGuY17.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@radix-ui-BvMokElm.js";import"./@floating-ui-Bz0Llzwk.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-CmYz6bu1.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DARcxseC.js";import"./react-style-singleton-DGHx6cxv.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-Nu0ECe3E.js";import"./use-callback-ref-Dbm6QB5w.js";import"./tailwind-merge-BkWO730n.js";import"./lucide-react-Ci28YqEe.js";import"./@reduxjs-oRZD7waF.js";import"./immer-BNrqi0cU.js";import"./@babel-t4rwdtCy.js";import"./axios-B7bUl2-b.js";import"./react-spinners-YQqZBWX8.js";import"./class-variance-authority-Bb4qSo10.js";import"./react-quill-DOmGiObD.js";import"./quill-CcmG3z8m.js";import"./@firebase-BRxn6V22.js";import"./idb-BXWtuYvb.js";import"./firebase-Dh9qoGaN.js";import"./redux-persist-Da8jSp2J.js";import"./redux-B4I0dNBv.js";import"./use-sync-external-store-DIPgDpvX.js";const Y=({data:s=[]})=>e.jsx(L,{width:"100%",height:"100%",children:e.jsxs(M,{width:500,height:300,data:s,children:[e.jsx(D,{strokeDasharray:"3 3"}),e.jsx(A,{dataKey:"name",interval:0,tick:{fontSize:10,textAnchor:"end"}}),e.jsx(F,{}),e.jsx(g,{}),e.jsx(P,{type:"monotone",dataKey:"matched",stroke:"#8884d8",activeDot:{r:8}})]})}),f=Math.PI/180,$=({cx:s,cy:a,midAngle:o,innerRadius:r,outerRadius:n,percent:m})=>{const l=r+(n-r)*.5,d=s+l*Math.cos(-o*f),p=a+l*Math.sin(-o*f);return e.jsx("text",{x:d,y:p,fill:"white",textAnchor:d>s?"start":"end",dominantBaseline:"central",children:`${(m*100).toFixed(0)}%`})},N=({data:s=[],colors:a=[]})=>e.jsx(k,{width:170,height:200,children:e.jsxs(S,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:$,outerRadius:80,dataKey:"value",children:[e.jsx(g,{}),s.map((o,r)=>e.jsx(T,{fill:a[r%a.length]},`cell-${r}`))]})}),lt=()=>{const s=V(),{user:a,token:o}=K(t=>t.auth),{chats:r,isLoading:n}=_({id:a==null?void 0:a.id}),{data:m,isLoading:l,isError:d,isSuccess:p,error:O}=z({endpoint:J.EVENTS,token:o,key:"events"}),j=v(new Date,"yyyy-MM-dd"),[U,y]=u.useState(null),{todayEvents:x,otherEvents:q}=u.useMemo(()=>l?{todayEvents:[],otherEvents:{}}:m.reduce((t,i)=>{const c=v(new Date(i.date),"yyyy-MM-dd");return c===j?t.todayEvents.push(i):(t.otherEvents[c]||(t.otherEvents[c]=[]),t.otherEvents[c].push(i)),t},{todayEvents:[],otherEvents:{}}),[m]),b=[{name:"January",matched:5},{name:"February",matched:3},{name:"March",matched:6},{name:"April",matched:2},{name:"May",matched:4},{name:"June",matched:7},{name:"July",matched:1},{name:"August",matched:3},{name:"September",matched:5},{name:"October",matched:2},{name:"November",matched:4},{name:"December",matched:6}],w=[{name:"Male",value:400},{name:"Female",value:300}],E=[{name:"N1",value:400},{name:"N2",value:300},{name:"N3",value:200},{name:"N4",value:100}],C=t=>{y(t),s("/chat",{state:t})};return e.jsxs(e.Fragment,{children:[(l||n)&&e.jsx(B,{isLoading:l||n,className:"h-[calc(100vh-68px)]"}),e.jsxs(X.div,{variants:G,initial:"initial",animate:"animate",exit:"exit",className:" w-full h-[calc(100vh+40vh)] grid grid-cols-6 grid-rows-4 gap-2 p-2 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-100 col-span-4 row-span-2",children:[e.jsx("div",{className:"flex justify-between items-center mx-3 mt-3",children:e.jsx("h1",{className:"text-lg font-semibold",children:h.matchList})}),e.jsx("div",{className:"w-full h-full pr-10 pt-2 pb-16",children:e.jsx(Y,{data:b})})]}),e.jsxs("div",{className:"bg-gray-100 col-start-5 col-end-7 row-start-1 row-end-2",children:[e.jsxs("div",{className:"flex justify-between items-center mx-3 mt-3",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Matched List"}),e.jsx("div",{className:"flex items-center gap-x-5",children:e.jsxs("select",{className:"bg-primaryColor text-white p-2 rounded-md text-xs",children:[e.jsx("option",{value:"all",defaultChecked:!0,children:"Total Users"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]})})]}),e.jsxs("div",{className:"w-full h-full flex justify-start items-center pl-2 pb-12",children:[e.jsx(N,{data:w,colors:["#8B78B8","#5E3FBE"]}),e.jsxs("div",{className:"flex flex-col items-start justify-center ml-10 gap-y-4",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-[#8B78B8]"}),e.jsx("p",{className:"text-sm",children:"Male"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-[#5E3FBE]"}),e.jsx("p",{className:"text-sm",children:"Female"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-100 col-start-5 col-end-7 row-start-2 row-end-3",children:[e.jsxs("div",{className:"flex justify-between items-center mx-3 mt-3",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Matched List"}),e.jsx("div",{className:"flex items-center gap-x-5",children:e.jsxs("select",{className:"bg-primaryColor text-white p-2 rounded-md text-xs",children:[e.jsx("option",{value:"all",defaultChecked:!0,children:"JLPT"}),e.jsx("option",{value:"JLPT N4",children:"N4"}),e.jsx("option",{value:"JLPT N5",children:"N5"}),e.jsx("option",{value:"JLPT N3",children:"N3"}),e.jsx("option",{value:"JLPT N2",children:"N2"}),e.jsx("option",{value:"JLPT N1",children:"N1"})]})})]}),e.jsxs("div",{className:"w-full h-full flex justify-start items-center pl-2 pb-12",children:[e.jsx(N,{data:E,colors:["#EAF6ED","#C9EAD4","#A9DEBA","#67C587"]}),e.jsxs("div",{className:"grid grid-cols-2 grid-flow-row ml-10 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-[#EAF6ED]"}),e.jsx("p",{children:"N1"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-[#C9EAD4]"}),e.jsx("p",{children:"N2"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-[#A9DEBA]"}),e.jsx("p",{children:"N3"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-[#67C587]"}),e.jsx("p",{children:"N4"})]})]})]})]}),e.jsx("div",{className:"bg-gray-100 col-span-3 col-start-1 row-start-3 row-end-5",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{className:"flex items-start justify-between p-3",children:e.jsxs("div",{className:"col-span-2 w-full pb-4",children:[e.jsxs("h1",{className:"text-base font-semibold text-center my-2",children:[j," ",h.meetings]}),e.jsx("div",{className:"w-full h-[calc(100vh-300px)] overflow-y-auto ",children:x.length>0?x.map((t,i)=>e.jsx(R,{event:t},i)):e.jsx("p",{className:"text-center text-gray-500 mt-10",children:"No meetings today"})}),x.length>0&&e.jsx("div",{className:"text-end pt-3",children:e.jsx("button",{className:"text-sm text-gray-500",children:"See More >>"})})]})})})}),e.jsxs("div",{className:"bg-gray-100 col-start-4 col-end-7 row-start-3 row-end-5",children:[e.jsx("h1",{className:"text-lg font-semibold mx-3 px-5 pt-5",children:h.newMessages}),e.jsx("div",{className:"w-full h-[calc(100vh-300px)]  overflow-y-auto px-5",children:r.map((t,i)=>e.jsxs("div",{className:"flex items-center p-2 gap-x-2 border-b-2 border-gray-300 overflow-hidden cursor-pointer hover:bg-gray-300",onClick:()=>C(t),children:[e.jsx("img",{src:"https://via.placeholder.com/150",alt:"profile",width:50,height:50,className:"rounded-full"}),e.jsxs("div",{className:"flex items-start flex-col gap-x-2 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("h1",{className:"text-sm font-semibold",children:t.jobfinder_name}),e.jsx("p",{className:"text-xs text-gray-500",children:I(t.last_message_timestamp.toDate()).calendar()})]}),e.jsx("p",{className:"text-xs text-gray-500",children:t.last_message})]},i)]},i))}),e.jsx("div",{className:"text-end pt-2",children:e.jsx("button",{className:"text-sm text-gray-500",children:"See More >>"})})]})]})]})},G={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}};export{lt as default};
